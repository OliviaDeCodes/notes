# Markdown笔记本

## Markdown笔记本（HTML、CSS、JavaScript、Vue）

- 项目简介

  使用Vue框架构建一个Markdown 笔记本，该笔记本实现了允许用户以 Markdown 标记语言来写笔记、支持 实时预览、添加任意多条笔记、在用户下次打开应用时重新加载出来等功能。

- 项目内容

  - 添加Marked 库，调用它的时候传入 Markdown 文本内容，它将会返回相应的 HTML，使用户可以使用Markdown 标记语言来写笔记。
  - 计算属性可以将 Markdown 格式的笔记自动转换为有效的 HTML，实现笔记的实时预览。
  - 可以保存笔记，并且可以加载已保存笔记，如果没有保存任何内容则返回设置默认的字符串。
  - 添加一个数组属性，包含所有笔记，并设计按钮的单机事件，实现多条笔记列表。
  - 添加笔记工具栏，实现重命名、删除笔记等功能。
  - 添加状态栏，在笔记编辑器的底部显示笔记的创建日期，以及总行数、单词数和字符数。

# Markdown项目

- ### 该笔记本应用允许用户以 Markdown 标记语言来写笔记

  - 添加 Marked 库，调用它的时候传入 Markdown 文本内容，它将会返回相应的 HTML。
  - v-model双向数据绑定，实现在笔记编辑器里面修改文字，在开发者环境中预览

- ### 支持 Markdown 的实时预览

  - 计算属性可以帮助我们将 Markdown 格式的笔记自动转换为有效的 HTML，这样就可以实现笔记的实时预览。

  ```javascript
  计算属性具有下面几个特征:
  1.计算属性的值基于它的依赖进行缓存，因此如果没有必要是不会重新运行函数的，从而有效防止无用的计算;
  2.当函数中用到的某个属性发生了改变，计算属性的值会根据需要自动更新;
  3.计算属性可以如其他普通属性一样使用(可以在其他的计算属性中使用计算属性);
  4.算属性只有真正用于应用中时，才会进行计算操作。
  ```

  - 使用文本插值将笔记显示到一个新面板中。
    -  创建一个 class 为 preview 的 aside 元素，用来显示计算属性 notePreview 的值
  - 保存笔记。
    - 侦听改变：利用 Vue 的侦听器 (watcher)功能，，当 content 数据属性发生改变时触发一些调用，  使用 `localStorage.setItem() API `来保存笔记内容。 
    - 复用方法： 把一些逻辑写在可复用的函数里面:methods。 
    - 访问Vue实例：可以通过 this 关键字访问 Vue 实例

- ### 用户可以添加任意多条笔记

  - 笔记列表
    - 添加新建笔记的方法，添加一个新的数据属性，名为 notes。该属性是一个数组，包含所有的笔记。
    - 用 **v-on** 实现按钮的单击事件；该指令的值是一个函数，在该事件被触发时调用。
    - 用 **v-bind** 绑定属性
    - 用 **v-for** 显示列表，`v-for="note of notes"`对数组进行迭代
    
  - 选中一条笔记当选中一条笔记时，我们期望应用的中间和右侧面板都显示该笔记的相关信息:可以在文本 编辑器修改选中笔记的内容，而预览面板则实时预览其 Markdown 格式效果。

  - 使用 **deep** 选项保存笔记

    - Vue 递归地侦听 notes 数组中对象和属性的变化。如果在文本编辑器中输入一些内容，笔记列表会被保存。v-model 指令会修改选中笔记的 content 属性，而通过 deep 选项则可以触发保存方法 saveNotes 的调用。
    - handle：就是你watch中需要具体执行的方法
    - deep：就是你需要监听的数据的深度，一般用来监听对象中某个属性的变化
    - immediate：在选项参数中指定 immediate: true 将立即以表达式的当前值触发回调

    

  - 笔记工具栏
    - 重命名笔记：使用 v-model 指令将一个文本输入框与选中笔记的 title 属性绑定在一起就可以了。
    
    - 删除笔记：重命名文本框后面添加一个 button 元素，使用v-on 来监听 click 事件，使用 splice 标准数组方法
    
      将当前选中的笔记从 notes 数组中移除。
    
      - 笔记将从左侧的笔记列表中移除;
      - 笔记编辑器和预览面板会隐藏起来;
      - 笔记列表将被保存(可以在浏览器控制台观察到)。
    
    - 收藏笔记
    
  - 状态栏

    - 引入新的库 momentjs 对日期进行格式化，以便显示的日期可读。
    - 过滤器主要用于模板内部，在数据展示之前或者传递给一个属性之前对其进行处理。
    - 创建一个新的 date 过滤器，使用 Vue.filter 全局方法。
    - 先针对这 3 类数据创建 3 个计算属性，然后使用一些正则表达式做数据统计。

- ### 笔记可以在用户下次打开应用时重新加载出来
  - 加载已保存笔记
    - 重新打开的时候恢复数据：使用 `localStorage.getItem() API`。当刷新应用时，可以看到在浏览器控制台打印出了已经保存的笔记内容。
    - **生命周期钩子**，只使用 created 钩子来恢复笔记内容（要添加一个生命周期钩子，只需要将相 应的名字作为函数添加到 Vue 实例选项中即可）。
    - 也可以在数据中直接初始化。将 content 设置为存储的内容， 如果没有保存任何内容则设置为一个默认字符串